# Archlinux system installation and compare
# vim: ft=sh

archlinux_inst() {
	# Check if we are on archlinux
	if ! [ -e /etc/arch-release ]; then
		echo Archlinux not detected! >&2
		return
	fi
	# Now check for pacaur and optionally install
	if ! pacaur --version 2>&1 >/dev/null; then
		echo Please install pacaur! >&2
		return
	fi

	TFILE1=$(mktemp myconfigs-pacaur1-XXXXX)
	m4 archlinux.pkgs -I archlinux.pkgs.d | grep -E  '^[^	]+$' | sort | uniq > "$TFILE1"
	TFILE2=$(mktemp myconfigs-pacaur2-XXXXX)
	pacaur -Qqe | sort > "$TFILE2"
	echo "	Required							 Local"
	diff  --suppress-common-lines -ay "$TFILE1" "$TFILE2"
	rm "$TFILE1" "$TFILE2"
}
