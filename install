#!/bin/sh

cd `dirname $0`

git submodule update --init --recursive || (echo "Submodule update failed!"; exit 5)

# Source inst and diff function
. ./utils/inst

# Load if we force changes (implies no interaction)
[ "$1" = "-f" ] && FORCE=true || FORCE=false

#################################################################################

# TODO on hosts without shellrc we might want some thin shellrc to be installed
if ask "Install shell profile"; then
	inst profile ~/.profile
	inst zprofile ~/.zprofile
fi

if ask "Install GIT configuration"; then
	inst gitconfig ~/.gitconfig
	inst local/git-prompt.sh ~/.local/
fi

if ask "Install configurations for various utility tools"; then
	inst screenrc ~/.screenrc
fi

if ask "Install vim scripts"; then
	inst vimrc ~/.vimrc
	mkdir -p ~/.cache/vim # directory for *.swp files
	mkdir -p ~/.cache/vim-undo # directory for undo files
fi
